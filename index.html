<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <!--
        <script src="script.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fast-xml-parser/4.4.0/fxparser.min.js" type="text/javascript"></script>
        -->
        <title>Otobüsüm Nerede?</title>
    </head>
    <body>
        <header>
            <div id="title"><a href="/">Otobüsüm Nerede?</a></div>
            <div id="source-code"><a href="https://github.com/otobusumnerede" target="_blank">Source Code</a></div>
        </header>
        <main>
            <div id="form-container">
                <form id="form">
                    <!--
                    <select id="stop_no" name="stop_no" form_id="form">
                        <option value="" disabled selected>Durak No</option>
                    </select>
                    -->
                    <input type="text" id="stop_no" name="stop_no" placeholder="Durak No">
                    <input type="text" id="bus_no" name="bus_no" placeholder="Hat No (opsiyonel)">
                    <button type="button" id="show_button">Göster</button>
                </form>
            </div>
            <div id="error"></div>
        </main>
        <script>
            /*
            var stopNoElement = document.getElementById("stop_no");
            var busNoElement = document.getElementById("bus_no");

            fetchBusStopList()
                .then(busStopList => {
                    for (i in busStopList) {
                    let optionElement = document.createElement("option");
                    optionElement.value = busStopList[i]["id"];
                    optionElement.innerText = busStopList[i]["name"];
                    stopNoElement.appendChild(optionElement);
                }
            })
            */

            document.getElementById("show_button").addEventListener("click", function() {
                let stop_no = document.getElementById("stop_no").value;
                let bus_no = document.getElementById("bus_no").value;

                let params = new URLSearchParams();
                params.append("stop_no", stop_no);
                params.append("bus_no", bus_no);

                let redirectURL = "show.html?" + params.toString();
                window.location.href = redirectURL;
            });
        </script>
    </body>
</html>
